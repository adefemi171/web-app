webapp:
  ## The name of the webapp daemonset or deployment.
  ## Autogenerated if not set or set to "".
  # name:  webapp

  kind: deployment

  ## Enables the pods to use the host's network namespace.
  hostNetwork: false

  image:
    ## The image repository of the webapp
    repository: adefemi171/web-api

    ## The tag of the webapp image.
    tag: "v2"

    ## The pull policy for the webapp image.
    pullPolicy: IfNotPresent
  
  port: 8080

  ## The termination grace period of the webapp pod.
  terminationGracePeriodSeconds: 30

  ## The resources of the webapp pods.
  resources: {}
    # limits:
    #   cpu: 100m
    #   memory: 64Mi
    # requests:
    #   cpu: 100m
    #   memory: 64Mi

  ## The volumes of the webapp pods.
  volumes: []
  # - name: extra-conf
  #   configMap:
  #     name: extra-conf

  ## The volumeMounts of the webapp pods.
  volumeMounts: []

  ## The number of replicas of the webapp deployment.
  replicaCount: 1

  serviceAccount:
    ## The name of the service account of the webapp pods. Used for RBAC.
    ## Autogenerated if not set or set to "".
    # name: webapp

    ## Deprecated and will be removed in KIC v1.10, use webapp.serviceAccount.imagePullSecretName instead.
    ## The names of the secrets containing docker registry credentials.
    imagePullSecrets: []
      # - name: secret_name

    ## The name of the secret containing docker registry credentials.
    ## Secret must exist in the same namespace as the helm release.
    imagePullSecretName: ""

  pod:
    ## The annotations of the webapp pod.
    annotations: {}


frontend:
  image:
    ## The image repository of the webapp
    repository: adefemi171/web-app

    ## The tag of the webapp image.
    tag: "v3"

    ## The pull policy for the webapp image.
    pullPolicy: IfNotPresent
  ## Expose App metrics in the Prometheus format.
  create: true

  ## Configures the port to scrape the metrics.
  port: 3000

prometheus:
  ## Expose App metrics in the Prometheus format.
  create: true

  ## Configures the port to scrape the metrics.
  port: 9113


rbac:
  ## Configures RBAC.
  create: true

service:
  ## Creates a service to expose the webapp pods.
  create: true

  name: "webapp"

  ## The type of service to create for the webapp.
  type: ClusterIP

  ## The externalTrafficPolicy of the service. The value Local preserves the client source IP.
  externalTrafficPolicy: Local

  ## The annotations of the webapp service.
  annotations: {}

  ## The static IP address for the load balancer. Requires webapp.service.type set to LoadBalancer. The cloud provider must support this feature.
  loadBalancerIP: ""

  ## The list of external IPs for the webapp service.
  externalIPs: []

  ## The IP ranges (CIDR) that are allowed to access the load balancer. Requires webapp.service.type set to LoadBalancer. The cloud provider must support this feature.
  loadBalancerSourceRanges: []

  ## The name of the service
  ## Autogenerated if not set or set to "".
  # name: webapp

  httpPort:
    enable: true
    ## The HTTP port of the webapp service.
    port: 8080
    targetPort: 8080

  frontend:
    enable: true
    ## The HTTP port of the front service.
    port: 3000

    targetPort: 3000

  prometheus:
    enable: true
    ## The HTTP port of the front service.
    port: 9113

    targetPort: 9113

  ## A list of custom ports to expose through the webapp service. Follows the conventional Kubernetes yaml syntax for service ports.
  customPorts: []

ingress:
  enabled: true
  host: ""
  annotations: {}
  tls:
    ## enable TLS termination for the web Ingress
    ##
    enabled: false

    secretName: ""
